---
interface Props {
  slotId?: string; // made optional for dev, but required for real ads
  format?: 'auto' | 'rectangle' | 'horizontal' | 'vertical';
  responsive?: boolean;
  className?: string; // Allow custom classes for positioning
}

const { 
  slotId = "0000000000", // Placeholder default
  format = 'auto', 
  responsive = true,
  className = "" 
} = Astro.props;

// Use user's real publisher ID
const PUBLISHER_ID = "ca-pub-9250289969484573"; 
const containerId = `ad-container-${Math.random().toString(36).substr(2, 9)}`;
---

<div id={containerId} class={`ad-wrapper my-8 flex justify-center items-center bg-gray-50 border border-gray-100/50 rounded-xl overflow-hidden relative ${className}`}>
  
  <span class="text-[10px] text-gray-300 absolute top-1 right-2 uppercase tracking-widest font-medium z-0">Advertisement</span>

  <!-- The Ad Unit -->
  <!-- 
    NOTE: You must replace the 'slotId' prop with a valid Data Ad Slot ID from your Google AdSense Dashboard.
    Each ad placement should ideally have a unique Slot ID for better tracking.
  -->
  <ins class="adsbygoogle z-10 relative"
       style="display:block; min-width: 300px; min-height: 250px; width: 100%;" 
       data-ad-client={PUBLISHER_ID}
       data-ad-slot={slotId}
       data-ad-format={format}
       data-full-width-responsive={responsive ? "true" : "false"}>
  </ins>

  <script is:inline>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

<style>
  /* 
   Prevent Layout Shift (CLS):
   Reserve minimum height so content doesn't jump.
   Standard Medium Rectangle is 300x250.
  */
  .ad-wrapper {
    min-height: 280px; 
    width: 100%;
  }
</style>
